{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"BARI Environmental Sensor Network Documentation","text":""},{"location":"#welcome","title":"Welcome","text":"<p>This documentation describes the technical infrastructure supporting the Common SENSES Project sensor data pipeline. Common SENSES is a community-led environmental justice initiative serving neighborhoods along Blue Hill Avenue from Dudley Town Common to Franklin Park in Boston.</p>"},{"location":"#about-common-senses","title":"About Common SENSES","text":"<p>Common SENSES is a collaboration between Dudley Street Neighborhood Initiative, Project R.I.G.H.T. Inc., Boston Area Research Initiative (BARI) at Northeastern University, and the City of Boston's Office of Emerging Technology.</p> <p>Project Values:</p> <ul> <li>No Surveillance - Only environmental data, no information about people</li> <li>Environmental Justice - Supporting community action on environmental issues</li> <li>Data Justice - All data publicly accessible for community use</li> </ul> <p>Learn more at commonsensesproject.org</p>"},{"location":"#project-status","title":"Project Status","text":"<p>Current State: Fully operational production system Deployment Date: December 2025 Last Updated: January 2026 Active Sensors: 55 sensors collecting data every 15 minutes Data Volume: ~79,000 readings/day, ~2.4M readings/month Monthly Cost: &lt;$80 (Azure infrastructure)</p>"},{"location":"#what-this-system-does","title":"What This System Does","text":"<p>The sensor data pipeline collects, processes, stores, and visualizes environmental data from Particle.io sensors deployed throughout the Common SENSES project area. The system measures temperature, humidity, and noise levels every 15 minutes, supporting both community access and research analysis.</p>"},{"location":"#quick-navigation","title":"Quick Navigation","text":"<p>New to the project? Start with the Project Overview for a comprehensive one-page summary.</p> <p>Need to access or analyze data? Go to Working with Data for database queries and data export methods.</p> <p>Maintaining the system? See Operating the System for daily tasks and troubleshooting.</p> <p>Taking over development? Read Understanding the System, then explore Reference for complete technical details.</p> <p>Need step-by-step instructions? Check the Appendices for Azure configuration, database management, and deployment guides.</p>"},{"location":"#documentation-sections","title":"Documentation Sections","text":""},{"location":"#overview","title":"Overview","text":"<p>One-page system summary with architecture, data flow, and key components.</p>"},{"location":"#understanding-the-system","title":"Understanding the System","text":"<ul> <li>What It Does - High-level purpose</li> <li>Architecture - Component interactions</li> <li>Data Flow - Sensor to dashboard journey</li> <li>Design Decisions - Why this architecture?</li> </ul>"},{"location":"#working-with-data","title":"Working with Data","text":"<ul> <li>Quick Start - Get data immediately</li> <li>Connecting to Database - Connection strings and access</li> <li>Common Queries - Copy-paste SQL examples</li> <li>Blob Storage Access - Raw JSON files</li> <li>Understanding the Schema - Tables and relationships</li> <li>Data Quality - Flags and validation</li> </ul>"},{"location":"#operating-the-system","title":"Operating the System","text":"<ul> <li>Daily Checklist - Routine maintenance tasks</li> <li>Monitoring Health - System health indicators</li> <li>Cost Tracking - Budget monitoring</li> <li>Sensor Lifecycle - Deploy, move, deactivate</li> <li>Troubleshooting:</li> <li>Sensor Not Reporting</li> <li>Function Errors</li> <li>Database Issues</li> <li>Dashboard Problems</li> </ul>"},{"location":"#making-changes","title":"Making Changes","text":"<ul> <li>Deploying Code Updates - Function deployment</li> <li>Updating Dashboard - Static Web App changes</li> <li>Database Changes - Schema migrations</li> <li>Sensor Configuration - Particle.io webhooks</li> <li>Infrastructure Changes - Azure resource modifications</li> </ul>"},{"location":"#reference","title":"Reference","text":"<ul> <li>Azure Infrastructure:</li> <li>Function Apps</li> <li>SQL Database</li> <li>Blob Storage</li> <li>Networking</li> <li>Static Web App</li> <li>Particle Platform - Device specs and webhook config</li> <li>Complete Schema - All tables, columns, indexes</li> <li>Function Code Reference - Code organization</li> <li>API Endpoints - Dashboard API documentation</li> </ul>"},{"location":"#appendices","title":"Appendices","text":"<ul> <li>Step-by-Step Guides - Azure Portal tasks with screenshots</li> <li>SQL Query Library - Extended query examples</li> <li>Error Codes - Error reference</li> <li>Contacts - Who to contact for support</li> </ul>"},{"location":"#external-resources","title":"External Resources","text":"<ul> <li>Common SENSES Project Website</li> <li>Common SENSES Research Map</li> <li>Heat Live Public Dashboard</li> <li>Noise Live Public Dashboard</li> </ul>"},{"location":"00-overview/","title":"BARI Environmental Sensor Network - Project Overview","text":""},{"location":"00-overview/#what-this-system-does","title":"What This System Does","text":"<p>The BARI Environmental Sensor Network monitors environmental conditions in Boston's Blue Hill Avenue corridor through 55 Particle.io sensors deployed in partnership with community organizations as part of the Common SENSES Project. Every 15 minutes, these sensors collect temperature, humidity, and noise data, which flows through an automated Azure-based pipeline to provide both research-grade historical data and real-time public accessibility through an interactive dashboard.</p> <p>Quick Facts: - 55 active sensors in the Common SENSES project area (Blue Hill Avenue corridor) - ~290,000 readings collected per day - 15-minute collection intervals - Data stored in UTC, displayed in US/Eastern timezone - &lt;$70/month operational cost - Public dashboard + research database</p>"},{"location":"00-overview/#system-architecture","title":"System Architecture","text":""},{"location":"00-overview/#data-flow","title":"Data Flow","text":"<p>1. Data Collection \u2192 2. Ingestion \u2192 3. Storage \u2192 4. Processing \u2192 5. Database \u2192 6. Visualization</p> <ol> <li>Sensors (Particle.io devices) measure temperature, humidity, and noise every 15 minutes</li> <li>Particle Cloud receives sensor readings and triggers webhooks</li> <li>Webhook Function (Azure) receives JSON payloads and writes raw data to Blob Storage</li> <li>Blob Storage archives data and triggers the processor function</li> <li>Blob Processor Function deduplicates, validates, and writes cleaned data to SQL Database</li> <li>SQL Database stores validated readings with full audit trail</li> <li>API Function serves data requests from the dashboard</li> <li>Public Dashboard (Static Web App) displays interactive time-series visualizations</li> </ol> <p>Data Transfer Types: - Solid arrows (\u2192) = Push/Write operations (HTTPS POST, writes) - Dashed arrows (\u21e2) = Pull/Trigger operations (blob triggers, SQL queries, API calls)</p>"},{"location":"00-overview/#key-components","title":"Key Components","text":""},{"location":"00-overview/#azure-infrastructure","title":"Azure Infrastructure","text":"<p>Function Apps (4 functions): - Webhook Receiver: Accepts Particle Cloud webhooks, archives raw JSON to blob storage - Blob Processor: Reads from blob storage, performs multi-layer deduplication, writes to SQL - API Function: Serves sensor data requests to the public dashboard - Daily Reporter: Automated email summaries of sensor performance (monitoring/operations)</p> <p>SQL Database: - Tables: <code>sensor_readings</code>, <code>sensor_errors</code>, <code>sensor_startup_events</code>, <code>sensor_installs</code> - Composite indexes on <code>(device_id, published_at)</code> for query performance - Computed columns for data quality metrics - Private endpoint access only (secure)</p> <p>Blob Storage: - Organized folders: <code>incoming/</code>, <code>archived/</code>, <code>failed-writing/</code>, <code>duplicated/</code>, <code>overlapping/</code> - Raw JSON preservation for audit trail - Blob-triggered processing pipeline</p> <p>Static Web App: - Vanilla HTML/CSS/JavaScript (no frameworks for easier handoff) - Plotly.js for interactive time-series charts - Flatpickr for date range selection - Caching headers to minimize API calls and data egress costs</p> <p>Networking: - VNet with private endpoints for SQL and Blob Storage - Public ingress: webhook endpoint, Static Web App - All internal traffic secured through private network</p>"},{"location":"00-overview/#particleio-platform","title":"Particle.io Platform","text":"<ul> <li>55 devices configured with webhook integration</li> <li>Real-time data transmission to Azure</li> <li>Device health monitoring and alerts</li> <li>Webhook retry logic for reliability</li> </ul>"},{"location":"00-overview/#data-quality-reliability","title":"Data Quality &amp; Reliability","text":"<p>The system implements multiple layers of protection:</p> <p>Deduplication (3 levels): 1. Webhook level: Reject exact duplicates within 5-second window 2. Batch level: Remove duplicates within blob file 3. Database level: Composite unique constraint on <code>(device_id, published_at)</code></p> <p>Error Handling: - Failed webhook writes \u2192 <code>failed-writing/</code> folder for manual review - Duplicate detections \u2192 <code>duplicated/</code> folder with metadata - Overlapping time ranges \u2192 <code>overlapping/</code> folder - All errors logged to <code>sensor_errors</code> table</p> <p>Monitoring: - Daily automated reports via email - Missing data analysis by sensor - Application Insights for function performance - Cost tracking and alerts (warning at $90, critical at $100)</p>"},{"location":"00-overview/#cost-management","title":"Cost Management","text":"<p>Monthly operational costs kept under $80 through: - Efficient SQL query patterns with proper indexing - API response caching (24-hour headers) - Reduced Application Insights logging verbosity - Serverless Function App consumption plan (Flex Consumption tier) - Basic tier SQL Database with appropriate sizing</p> <p>Cost Monitoring: - Cost alerts configured at $90 (warning) and $100 (critical) - Monthly reviews via Azure Cost Management dashboard - See Cost Tracking for detailed tracking procedures</p>"},{"location":"00-overview/#public-dashboard","title":"Public Dashboard","text":"<p>Available at: {{ no such element: super_collections.SuperDict object['dashboard_public'] }}</p> <p>Features: - Interactive time-series charts for temperature, humidity, noise - Flexible date range selection - Per-sensor data visualization - Real-time data updates (15 minutes granularity) - Mobile-responsive design - No authentication required (public data for community transparency)</p>"},{"location":"00-overview/#key-design-principles","title":"Key Design Principles","text":"<p>Maintainability First: - Vanilla JavaScript over frameworks (easier handoff) - Clear code organization and commenting - Comprehensive documentation - Modular architecture</p> <p>Data Integrity: - Multiple deduplication layers - Complete audit trail via blob storage - Defensive programming with input validation - Graceful error handling</p> <p>Cost Efficiency: - Strategic caching to minimize API calls and data egress - Efficient database indexing - Serverless architecture - Careful monitoring of Azure costs</p> <p>Defensive Programming: - Input validation at every stage - Connection cleanup and timeout handling - Comprehensive error logging - Retry logic where appropriate</p>"},{"location":"00-overview/#who-should-use-this-documentation","title":"Who Should Use This Documentation","text":"<p>System Administrators: Start with Daily Checklist for daily tasks and Troubleshooting</p> <p>Developers/Future Maintainers: Read Architecture and Function Code Reference to understand implementation</p> <p>Researchers: See Quick Start for getting data immediately and Common Queries for typical analysis tasks</p> <p>IT Support: Check Step-by-Step Guides for Azure Portal management tasks</p>"},{"location":"00-overview/#navigation-guide","title":"Navigation Guide","text":"<p>Understanding the System: - What It Does - Project background, Common SENSES context, stakeholders - Architecture - Detailed architecture with network topology - Data Flow - How data moves through the pipeline - Design Decisions - Why we built it this way</p> <p>Working with Data: - Quick Start - Get data right now - Connecting to Database - Connection strings and authentication - Common Queries - Copy-paste SQL for typical tasks - Understanding the Schema - Table relationships and columns</p> <p>Operating the System: - Daily Checklist - What to check every day - Monitoring Health - System health indicators - Cost Tracking - Where costs come from - Troubleshooting - Common issues and fixes</p> <p>Making Changes: - Deploying Code Updates - Push function changes - Database Changes - Schema migrations - Sensor Configuration - Particle.io webhook settings</p> <p>Technical Reference: - Azure Infrastructure - Complete Azure resource details - Complete Schema - Every table, column, index - Function Code Reference - Code organization - Particle Platform - Device specs</p> <p>Step-by-Step Guides: - Appendices - Screenshots and detailed procedures</p>"},{"location":"00-overview/#project-status","title":"Project Status","text":"<p>Current State: Fully operational production system Deployment Date: December 2025 Last Major Update: January 2026 Active Sensors: 55 sensors currently collecting data in the Common SENSES project area Data Volume: ~79,000 readings/day, ~2.4M readings/month Budget Status: Within target (&lt;$80/month)</p>"},{"location":"00-overview/#key-contacts","title":"Key Contacts","text":"<p>Research Team:</p> <ul> <li> <p>Dan (Technical guidance and research direction)</p> </li> <li> <p>Amy (Sensor deployment coordination)</p> </li> </ul> <p>IT Support:</p> <p>Project Lead &amp; Documentation: - Juan Cruz (System design, implementation, handoff)</p> <p>Community Partners:</p> <ul> <li> <p>Dudley Street Neighborhood Initiative</p> </li> <li> <p>Project R.I.G.H.T. Inc.</p> </li> </ul> <p>For email addresses, Slack handles, and phone numbers, see Contact Information</p> <p>Next Steps: - New to the project? Read What It Does for Common SENSES context - Need to perform a task? Jump to Daily Checklist - Want technical details? Start with Architecture - Need to access data? See Quick Start</p>"},{"location":"01-understanding-the-system/architecture/","title":"Architecture","text":""},{"location":"01-understanding-the-system/architecture/#functional-architecture","title":"Functional Architecture","text":"<p>The diagram below shows the complete data flow from sensors to public dashboard:</p> <p> </p>"},{"location":"01-understanding-the-system/architecture/#data-flow-overview","title":"Data Flow Overview","text":"<ol> <li>Sensors (55 Particle.io devices) collect temperature, humidity, and noise data every 15 minutes</li> <li>Particle Cloud triggers webhooks when new data arrives</li> <li>Webhook Function receives JSON payloads via HTTPS POST and writes to Blob Storage</li> <li>Blob Storage archives raw sensor data and triggers the processor function</li> <li>Blob Processor Function reads, deduplicates, and writes cleaned data to SQL Database</li> <li>SQL Database stores validated sensor readings with composite indexes</li> <li>API Function serves data requests from the dashboard via HTTPS GET</li> <li>Public Dashboard (Static Web App) displays interactive visualizations for researchers and public</li> </ol> <p>Legend: - Solid arrows (\u2192) = Push/Write operations - Dashed arrows (\u21e2) = Pull/Trigger/Read operations - Rectangles = Processing components - Cylinders = Storage components</p>"}]}