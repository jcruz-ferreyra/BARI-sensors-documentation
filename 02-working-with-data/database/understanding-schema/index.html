
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Complete documentation for the Common SENSES sensor data pipeline">
      
      
        <meta name="author" content="Juan Cruz">
      
      
      
        <link rel="prev" href="../connecting/">
      
      
        <link rel="next" href="../common-queries/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>Understanding the Schema - BARI Environmental Sensor Network Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#understanding-the-schema" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="BARI Environmental Sensor Network Documentation" class="md-header__button md-logo" aria-label="BARI Environmental Sensor Network Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BARI Environmental Sensor Network Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Understanding the Schema
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="BARI Environmental Sensor Network Documentation" class="md-nav__button md-logo" aria-label="BARI Environmental Sensor Network Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    BARI Environmental Sensor Network Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../00-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Understanding the System
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Understanding the System
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../01-understanding-the-system/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../01-understanding-the-system/data-flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../01-understanding-the-system/design-decisions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Decisions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Working with Data
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Working with Data
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Database
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Database
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connecting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Understanding the Schema
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Understanding the Schema
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nu_sensors-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        nu_sensors (Metadata)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="nu_sensors (Metadata)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#columns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Columns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-record" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Record
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nu_readings-environmental-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        nu_readings (Environmental Data)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="nu_readings (Environmental Data)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#columns_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Columns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-record_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Record
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexes_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-concepts_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nu_quality_issues-data-quality-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        nu_quality_issues (Data Quality Tracking)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="nu_quality_issues (Data Quality Tracking)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#columns_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Columns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-record_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Record
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-concepts_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Additional Tables
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../common-queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Common Queries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-quality/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Quality
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Blob Storage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Blob Storage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blob-storage/accessing-blobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accessing Blobs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blob-storage/blob-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blob Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Operating the System
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Operating the System
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-operating-the-system/daily-checklist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Daily Checklist
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-operating-the-system/monitoring-health/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitoring Health
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-operating-the-system/cost-tracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cost Tracking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-operating-the-system/sensor-lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sensor Lifecycle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Troubleshooting
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-operating-the-system/troubleshooting/sensor-not-reporting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sensor Not Reporting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-operating-the-system/troubleshooting/function-errors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Function Errors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-operating-the-system/troubleshooting/database-issues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Issues
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-operating-the-system/troubleshooting/dashboard-problems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dashboard Problems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Making Changes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Making Changes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../04-making-changes/deploying-code-updates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deploying Code Updates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../04-making-changes/updating-dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Updating Dashboard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../04-making-changes/database-changes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Changes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../04-making-changes/sensor-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sensor Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../04-making-changes/infrastructure-changes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Infrastructure Changes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure Infrastructure
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure Infrastructure
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-reference/azure-infrastructure/function-apps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Function Apps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-reference/azure-infrastructure/sql-database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SQL Database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-reference/azure-infrastructure/blob-storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blob Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-reference/azure-infrastructure/networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Networking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-reference/azure-infrastructure/static-web-app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Static Web App
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-reference/particle-platform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Particle Platform
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-reference/complete-schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Complete Schema
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-reference/function-code-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Function Code Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../05-reference/api-endpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Endpoints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Appendices
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Appendices
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" >
        
          
          <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Step-by-Step Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Step-by-Step Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../06-appendices/step-by-step-guides/create-sql-database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Create SQL Database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../06-appendices/step-by-step-guides/configure-vnet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure VNet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../06-appendices/step-by-step-guides/deploy-function-app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deploy Function App
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../06-appendices/sql-query-library/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SQL Query Library
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../06-appendices/error-codes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Codes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../06-appendices/contacts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contacts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nu_sensors-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        nu_sensors (Metadata)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="nu_sensors (Metadata)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#columns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Columns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-record" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Record
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nu_readings-environmental-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        nu_readings (Environmental Data)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="nu_readings (Environmental Data)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#columns_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Columns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-record_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Record
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexes_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Indexes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-concepts_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nu_quality_issues-data-quality-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        nu_quality_issues (Data Quality Tracking)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="nu_quality_issues (Data Quality Tracking)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#columns_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Columns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-record_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Record
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-concepts_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Concepts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Additional Tables
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="understanding-the-schema">Understanding the Schema</h1>
<p>This page explains the database schema, including table relationships, column purposes, and key concepts for working with sensor data.</p>
<p>For complete technical specifications including table creation statements and DDL code, see <a href="../../../05-reference/complete-schema/">Complete Schema Reference</a>.</p>
<h2 id="overview">Overview</h2>
<p>The database contains five main tables:</p>
<ul>
<li><strong>nu_sensors</strong> - Metadata about sensor deployments and locations</li>
<li><strong>nu_readings</strong> - Environmental sensor readings (temperature, humidity, noise)</li>
<li><strong>nu_errors</strong> - Error messages from sensors</li>
<li><strong>nu_startup</strong> - Sensor boot/restart logs</li>
<li><strong>nu_quality_issues</strong> - Data quality problems and manual corrections</li>
</ul>
<hr />
<h2 id="nu_sensors-metadata">nu_sensors (Metadata)</h2>
<p>This table tracks sensor deployments. A "deployment" represents a specific sensor (box_id) installed at a specific location during a specific time period. When a sensor is moved to a new location, it gets a new deployment_id.</p>
<h3 id="columns">Columns</h3>
<p><strong>deployment_id</strong> (PK, int, not null)
Unique identifier for this deployment. Referenced by nu_readings to link sensor data to physical locations.</p>
<p><strong>box_id</strong> (int, not null)
Physical sensor identifier (1-55). This number is printed on the sensor hardware and appears in sensor messages.</p>
<p><strong>location_id</strong> (int, null)
Optional reference to a standardized location. Currently not used.</p>
<p><strong>coreid</strong> (nvarchar(255), not null)
Particle device ID - unique hardware identifier from Particle.io platform. Used to validate webhook data comes from legitimate sensors.</p>
<p><strong>location_address</strong> (nvarchar(255), not null)
Human-readable address or landmark description of where the sensor is installed (e.g., "Siever St &amp; Tiffany Moore Tot Park").</p>
<p><strong>latitude</strong> (decimal(10,8), not null)
Geographic latitude of sensor location in decimal degrees.</p>
<p><strong>longitude</strong> (decimal(11,8), not null)
Geographic longitude of sensor location in decimal degrees.</p>
<p><strong>install_datetime</strong> (datetime2(7), not null)
UTC timestamp when the sensor was installed at this location.</p>
<p><strong>is_active</strong> (bit, null)
Current deployment status: 1 = active, 0 = deactivated. Only one deployment per box_id should have is_active = 1 at any time.</p>
<p><strong>created_at</strong> (datetime2(7), null)
UTC timestamp when this database record was created (may differ from install_datetime).</p>
<p><strong>uninstall_datetime</strong> (datetime2(7), null)
UTC timestamp when the sensor was removed from this location. NULL for currently active deployments.</p>
<h3 id="example-record">Example Record</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>deployment_id:      1
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>box_id:             1
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>location_id:        NULL
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>coreid:             e00fce688d4f56458911d5b9
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>location_address:   Siever st &amp; Tiffany Moore Tot Park
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>latitude:           42.30900000
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>longitude:          -71.09100000
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>install_datetime:   2025-06-20 13:17:00
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>is_active:          1
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>created_at:         2025-10-28 20:42:19
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>uninstall_datetime: NULL
</code></pre></div>
<p>This shows sensor Box 1 actively deployed at Siever St since June 20, 2025.</p>
<h3 id="indexes">Indexes</h3>
<p><strong>UQ_active_box_id</strong> (Unique filtered index on box_id where is_active = 1)
Ensures only one active deployment exists per sensor at any time. This index prevents accidentally marking multiple deployments as active for the same box_id, which would cause the Database Writer to fail when trying to determine which deployment_id to use for incoming data.</p>
<h3 id="key-concepts">Key Concepts</h3>
<p><strong>Deployment vs Sensor:</strong> A sensor (box_id) can have multiple deployments over time. When sensor Box 1 moves from Location A to Location B, it gets two deployment records - the first with uninstall_datetime filled, the second with is_active = 1.</p>
<p><strong>Active Deployments:</strong> The Database Writer function queries this table to find the current deployment_id for incoming sensor data based on box_id and is_active = 1.</p>
<p><strong>Location History:</strong> Historical deployments (is_active = 0, uninstall_datetime populated) preserve location history for data analysis.</p>
<p><strong>Managing Deployments:</strong> When adding new deployments or marking sensors as uninstalled, existing readings may need their deployment_id or quality_ok flags updated retroactively. See <a href="../../../04-making-changes/database-changes/#sensor-deployment-management">Database Changes</a> for procedures on adding deployments, uninstalling sensors, and correcting historical data.</p>
<hr />
<h2 id="nu_readings-environmental-data">nu_readings (Environmental Data)</h2>
<p>This table stores environmental sensor readings with one record per minute per sensor. This is the primary data table for research analysis and powers the public dashboard visualizations.</p>
<h3 id="columns_1">Columns</h3>
<p><strong>id</strong> (PK, bigint, not null)
Unique identifier for each reading. Auto-incrementing to handle large data volumes (billions of records over time).</p>
<p><strong>deployment_id</strong> (FK, int, not null)
Links reading to sensor deployment in nu_sensors table. Determines which physical location the reading came from.</p>
<p><strong>box_id</strong> (int, not null)
Physical sensor identifier (1-55). Duplicated from deployment for query performance - allows fast filtering without joining to nu_sensors.</p>
<p><strong>timestamp</strong> (datetime2(7), not null)
UTC timestamp when the reading was collected by the sensor. Each sensor produces one reading per minute.</p>
<p><strong>temperature</strong> (float, null)
Temperature in Fahrenheit. NULL if sensor malfunction or data quality issue detected.</p>
<p><strong>humidity</strong> (float, null)
Relative humidity as percentage (0-100). NULL if sensor malfunction or data quality issue detected.</p>
<p><strong>noise</strong> (float, null)
Noise level in decibels (dB). NULL if sensor malfunction or data quality issue detected.</p>
<p><strong>heat_index</strong> (float, null)
Calculated heat index in Fahrenheit using temperature and humidity. Computed by Database Writer using the <a href="https://www.wpc.ncep.noaa.gov/html/heatindex_equation.shtml">NWS equation</a>.</p>
<p><strong>source_blob</strong> (nvarchar(255), not null)
Filename of the blob containing the raw sensor data for this reading. Enables tracing back to original data if issues arise.</p>
<p><strong>created_at</strong> (datetime2(7), null)
UTC timestamp when this record was written to the database. Used by Daily Reporter to track data pipeline performance.</p>
<p><strong>quality_ok</strong> (bit, null)
Data quality flag: 1 = valid data, 0 = questionable data. Set to 0 when sensor issues detected or manual corrections needed. See nu_quality_issues table for details.</p>
<h3 id="example-record_1">Example Record</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>id:             1
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>deployment_id:  10
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>box_id:         10
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>timestamp:      2025-05-03 23:17:00
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>temperature:    50.5
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>humidity:       92.1
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>noise:          40.4
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>heat_index:     50.04
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>source_blob:    10_20251028T144801Z
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>created_at:     2025-11-05 15:58:40
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>quality_ok:     0
</code></pre></div>
<p>This shows a reading from Box 10 collected at 23:17 UTC on May 3rd. Note quality_ok = 0, indicating this reading has been flagged for data quality issues (see nu_quality_issues table for details).</p>
<h3 id="indexes_1">Indexes</h3>
<p><strong>IX_readings_deployment_id_timestamp</strong>
Optimizes API queries that filter by deployment and time range - the most common query pattern for dashboard requests.</p>
<p><strong>IX_readings_box_id</strong>
Enables fast lookups by sensor identifier without needing to join to nu_sensors.</p>
<p><strong>IX_readings_created_box</strong>
Supports Daily Reporter queries that analyze recently written data grouped by sensor.</p>
<p><strong>UK_readings_box_timestamp</strong> (Unique constraint)
Prevents duplicate readings for the same sensor at the same timestamp. Critical for data integrity during Database Writer processing.</p>
<h3 id="key-concepts_1">Key Concepts</h3>
<p><strong>One Reading Per Minute:</strong> Sensors collect data every minute, so a healthy sensor produces 1,440 readings per day (24 hours Ã— 60 minutes).</p>
<p><strong>Denormalized box_id:</strong> While deployment_id provides the foreign key relationship, box_id is duplicated here for query performance. This avoids joining to nu_sensors for simple box-based queries.</p>
<p><strong>Quality Flagging:</strong> The quality_ok flag marks problematic data without deleting it. Researchers can choose whether to include quality_ok=0 records in their analysis.</p>
<p><strong>Data Volume:</strong> With 55 active sensors, this table grows by approximately ~79,000 records per day (~2.4M per month).</p>
<p><strong>Relationship to Deployments:</strong> When a sensor moves locations, new readings use the new deployment_id. Historical readings retain their original deployment_id, preserving accurate location history.</p>
<hr />
<h2 id="nu_quality_issues-data-quality-tracking">nu_quality_issues (Data Quality Tracking)</h2>
<p>This table tracks known data quality problems for specific sensors during specific time periods. When issues are recorded here, the Database Writer automatically flags affected readings in nu_readings with quality_ok = 0.</p>
<h3 id="columns_2">Columns</h3>
<p><strong>id</strong> (PK, bigint, not null)
Unique identifier for each quality issue record.</p>
<p><strong>box_id</strong> (int, not null)
Sensor experiencing the quality issue.</p>
<p><strong>start_datetime</strong> (datetime2(7), not null)
UTC timestamp when the quality issue began.</p>
<p><strong>end_datetime</strong> (datetime2(7), null)
UTC timestamp when the issue was resolved. NULL indicates an ongoing issue.</p>
<p><strong>issue_type</strong> (nvarchar(50), not null)
Category of quality issue. Common types: 'clock_drift' (timestamp problems), 'sensor_malfunction' (hardware issues), 'connectivity' (communication problems).</p>
<p><strong>issue_description</strong> (nvarchar(500), null)
Optional detailed notes about the issue, useful for understanding context during data analysis.</p>
<p><strong>is_resolved</strong> (computed, int, not null)
Automatically calculated: 1 if end_datetime is set (issue resolved), 0 if NULL (ongoing issue).</p>
<h3 id="example-record_2">Example Record</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>id:                  1
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>box_id:              1
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>start_datetime:      2025-06-20 13:17:00
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>end_datetime:        NULL
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>issue_type:          clock_drift
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>issue_description:   Timestamp off by less than 1 hour
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>is_resolved:         0
</code></pre></div>
<p>This shows Box 1 has an ongoing clock drift issue since June 20, 2025.</p>
<h3 id="key-concepts_2">Key Concepts</h3>
<p><strong>Automatic Quality Flagging:</strong> When the Database Writer processes sensor data, it queries this table for unresolved issues (is_resolved = 0). Any readings from affected sensors get quality_ok = 0 in nu_readings.</p>
<p><strong>Resolving Issues:</strong> When a sensor issue is fixed, set end_datetime to mark when the problem ended. The is_resolved column automatically updates to 1.</p>
<p><strong>Historical Tracking:</strong> Resolved issues (is_resolved = 1) remain in the table to document data quality history. This helps researchers understand why certain time periods have quality_ok = 0.</p>
<p><strong>Impact on Analysis:</strong> Researchers can choose to exclude quality_ok = 0 readings from analysis, or investigate them separately. The issue_type and issue_description fields provide context for making these decisions.</p>
<p><strong>Manual Flagging:</strong> Quality issues can be added retroactively. When added, a separate script can update existing nu_readings records to set quality_ok = 0 for the affected time period. See <a href="../../../04-making-changes/database-changes/#flagging-quality-issues">Database Changes</a> for procedures.</p>
<hr />
<h2 id="additional-tables">Additional Tables</h2>
<p>The database also contains <strong>nu_errors</strong> and <strong>nu_startup</strong> tables for diagnostic and troubleshooting purposes. These tables are rarely queried during normal data analysis workflows and are primarily used for:</p>
<ul>
<li>Tracing when sensors began malfunctioning</li>
<li>Investigating connectivity issues</li>
<li>Debugging sensor firmware problems</li>
<li>Tracking sensor restart patterns</li>
</ul>
<p>For complete specifications of these tables, see <a href="../../../05-reference/complete-schema/">Complete Schema Reference</a>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.indexes", "navigation.top", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>